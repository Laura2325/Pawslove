<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üêæ Gesti√≥n de Adopciones - Pawslove</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#6c40d1',
            secondary: '#fc6dab',
            accent: '#17b890',
            light: '#ecf0f1',
            dark: '#34252f'
          },
          fontFamily: {
            fredoka: ['Fredoka One', 'cursive']
          },
          borderRadius: {
            'custom': '24px'
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #f5f7fa;
      background-image:
        radial-gradient(#d0d7de 1px, transparent 1px),
        radial-gradient(#d0d7de 1px, transparent 1px);
      background-size: 40px 40px;
      background-position: 0 0, 20px 20px;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    }

    .bento-card {
      transition: all 0.3s ease;
    }

    .bento-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .sidebar-glass {
      background: rgba(108, 64, 209, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
    }

    .header-glass {
      background: rgba(236, 240, 241, 0.85);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .gradient-primary {
      background: linear-gradient(135deg, #6c40d1 0%, #8c66db 100%);
    }

    .gradient-secondary {
      background: linear-gradient(135deg, #fc6dab 0%, #ff8dc0 100%);
    }

    .gradient-accent {
      background: linear-gradient(135deg, #17b890 0%, #2ed1a7 100%);
    }

    .gradient-dark {
      background: linear-gradient(135deg, #34252f 0%, #4a3a45 100%);
    }
  </style>
</head>

<body class="min-h-screen font-sans text-gray-800 flex">

  <!-- Sidebar -->
  <aside class="sidebar-glass text-light w-64 space-y-6 py-7 px-2">
    <div class="text-white flex items-center space-x-2 px-4">
      <span class="text-2xl font-fredoka">AdminPanel</span>
    </div>
    <nav class="space-y-2">
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 bg-white/20">
        <span>Inicio</span>
      </a>
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10 transition-all">
        <span>Productos</span>
      </a>
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10 transition-all">
        <span>Adopciones</span>
      </a>
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10 transition-all">
        <span>√ìrdenes</span>
      </a>
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10 transition-all">
        <span>Donaciones</span>
      </a>
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10 transition-all">
        <span>Usuarios</span>
      </a>
      <a href="#" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10 transition-all">
        <span>Mascotas</span>
      </a>
    </nav>
    <div class="absolute bottom-0 w-full left-0 p-4 border-t border-white/10">
      <div class="flex items-center space-x-3">
        <img class="h-10 w-10 rounded-full object-cover border-2 border-white/30"
          src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E"
          alt="Usuario" />
        <div>
          <p class="font-medium">Admin User</p>
          <p class="text-sm text-white/70">Administrador</p>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 pt-24 px-6 max-w-7xl mx-auto">
    <h1 class="text-4xl font-bold text-primary mb-8 font-fredoka">Adopciones üêæ</h1>

    <!-- Formulario completo -->
    <section class="bg-white p-6 rounded-custom shadow-lg mb-10 glass-effect">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">‚ûï Agregar Mascota</h2>
      <form id="formMascota" class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block mb-1 font-medium">Nombre</label>
          <input type="text" name="nombre" required class="w-full p-2 border rounded-lg">
        </div>
        <div>
          <label class="block mb-1 font-medium">Especie</label>
          <select name="especie" class="w-full p-2 border rounded-lg">
            <option>Perro</option>
            <option>Gato</option>
          </select>
        </div>
        <div>
          <label class="block mb-1 font-medium">Edad</label>
          <input type="text" name="edad" placeholder="Ej: 2 a√±os" class="w-full p-2 border rounded-lg">
        </div>
        <div>
          <label class="block mb-1 font-medium">Tama√±o</label>
          <select name="tamano" class="w-full p-2 border rounded-lg">
            <option>Peque√±o</option>
            <option>Mediano</option>
            <option>Grande</option>
          </select>
        </div>
        <div>
          <label class="block mb-1 font-medium">Raza</label>
          <input type="text" name="raza" class="w-full p-2 border rounded-lg">
        </div>
        <div>
          <label class="block mb-1 font-medium">Estado</label>
          <select name="estado" class="w-full p-2 border rounded-lg">
            <option>Disponible</option>
            <option>Adoptado</option>
          </select>
        </div>
        <div class="md:col-span-2">
          <label class="block mb-1 font-medium">Descripci√≥n (card)</label>
          <textarea name="descripcion" rows="2" class="w-full p-2 border rounded-lg"></textarea>
        </div>
        <div class="md:col-span-2">
          <label class="block mb-1 font-medium">Descripci√≥n extra (overlay)</label>
          <textarea name="descripcionOverlay" rows="2" class="w-full p-2 border rounded-lg"></textarea>
        </div>
        <div>
          <label class="block mb-1 font-medium">Imagen de la Mascota</label>
          <input type="file" name="imagenArchivo" accept="image/*" class="w-full p-2 border rounded-lg"
            onchange="previewImage(event)">
          <img id="preview" src="" alt="Vista previa" class="mt-2 rounded-lg w-32 h-32 object-cover hidden border">
        </div>
        <div class="md:col-span-2 text-right">
          <button type="submit" class="px-6 py-2 gradient-primary text-white rounded-lg hover:opacity-90">
            Guardar üê∂üê±
          </button>
        </div>
      </form>
    </section>

    <!-- Lista de mascotas -->
    <section class="bg-white p-6 rounded-custom shadow-lg glass-effect">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">üìã Mascotas Registradas</h2>
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-purple-100 text-left">
            <th class="p-3">Nombre</th>
            <th class="p-3">Especie</th>
            <th class="p-3">Edad</th>
            <th class="p-3">Tama√±o</th>
            <th class="p-3">Estado</th>
            <th class="p-3">Acciones</th>
          </tr>
        </thead>
        <tbody id="tablaMascotas" class="divide-y"></tbody>
      </table>
    </section>
  </main>

  <!-- Script -->
  <script>
    const mascotas = [];
    const form = document.getElementById("formMascota");
    const tabla = document.getElementById("tablaMascotas");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const fileInput = form.querySelector('input[name="imagenArchivo"]');
      if (fileInput.files && fileInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function (e) {
          const data = Object.fromEntries(new FormData(form).entries());
          data.imagen = e.target.result;
          mascotas.push(data);
          form.reset();
          document.getElementById("preview").classList.add("hidden");
          renderMascotas();
        }
        reader.readAsDataURL(fileInput.files[0]);
      } else {
        const data = Object.fromEntries(new FormData(form).entries());
        data.imagen = "";
        mascotas.push(data);
        form.reset();
        renderMascotas();
      }
    });

    function renderMascotas() {
      tabla.innerHTML = "";
      mascotas.forEach((m, index) => {
        tabla.innerHTML += `
          <tr class="bento-card">
            <td class="p-3 flex items-center gap-2">
              ${m.imagen ? `<img src="${m.imagen}" class="w-12 h-12 rounded-lg object-cover">` : ''}
              <span>${m.nombre}</span>
            </td>
            <td class="p-3">${m.especie}</td>
            <td class="p-3">${m.edad}</td>
            <td class="p-3">${m.tamano}</td>
            <td class="p-3">${m.estado}</td>
            <td class="p-3 flex gap-2">
              <button onclick="editarMascota(${index})" class="px-3 py-1 gradient-accent text-white rounded">‚úèÔ∏è Editar</button>
              <button onclick="eliminarMascota(${index})" class="px-3 py-1 gradient-secondary text-white rounded">üóëÔ∏è Eliminar</button>
            </td>
          </tr>
        `;
      });
    }

    function eliminarMascota(i) {
      mascotas.splice(i, 1);
      renderMascotas();
    }

    function editarMascota(i) {
      const m = mascotas[i];
      Object.keys(m).forEach(key => {
        if (form[key]) form[key].value = m[key];
      });
      mascotas.splice(i, 1);
      const preview = document.getElementById("preview");
      preview.src = m.imagen || "";
      if (m.imagen) preview.classList.remove("hidden");
      renderMascotas();
    }

    function previewImage(event) {
      const input = event.target;
      const preview = document.getElementById("preview");

      if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function (e) {
          preview.src = e.target.result;
          preview.classList.remove("hidden");
        }
        reader.readAsDataURL(input.files[0]);
      } else {
        preview.src = "";
        preview.classList.add("hidden");
      }
    }
  </script>
</body>
</html>
