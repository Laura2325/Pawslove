<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üêæ Productos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#6c40d1',
            secondary: '#fc6dab',
            accent: '#17b890',
            light: '#ecf0f1',
            dark: '#34252f'
          },
          fontFamily: {
            fredoka: ['Fredoka One', 'cursive']
          },
          borderRadius: {
            'custom': '24px'
          }
        }
      }
    }
  </script>
  <style>
    .glass-effect {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    }
    .sidebar-glass {
      background: rgba(108, 64, 209, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
    }
    body {
      background-color: #f5f7fa;
      background-image: radial-gradient(#d0d7de 1px, transparent 1px),
        radial-gradient(#d0d7de 1px, transparent 1px);
      background-size: 40px 40px;
      background-position: 0 0, 20px 20px;
    }
  </style>
</head>
<body class="min-h-screen font-sans flex">

  <!-- üöÄ Sidebar de navegaci√≥n -->
  <aside class="sidebar-glass text-light w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 md:relative transform md:translate-x-0 transition duration-200 ease-in-out z-10">

    <!-- Logo -->
    <div class="text-white flex items-center space-x-2 px-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
      </svg>
      <span class="text-2xl font-fredoka">AdminPanel</span>
    </div>

    <!-- Navegaci√≥n -->
    <nav class="space-y-2">
      <a href="index.html" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10">
        <span>Inicio</span>
      </a>
      <a href="productos.html" class="py-3 px-4 rounded flex items-center space-x-3 bg-white/20">
        <span>Productos</span>
      </a>
      <a href="adopciones.html" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10">
        <span>Adopciones</span>
      </a>
      <a href="ordenes.html" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10">
        <span>√ìrdenes</span>
      </a>
      <a href="donaciones.html" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10">
        <span>Donaciones</span>
      </a>
      <a href="usuarios.html" class="py-3 px-4 rounded flex items-center space-x-3 hover:bg-white/10">
        <span>Usuarios</span>
      </a>
    </nav>

    <!-- Footer -->
    <div class="absolute bottom-0 w-full left-0 p-4 border-t border-white/10">
      <div class="flex items-center space-x-3">
        <img class="h-10 w-10 rounded-full object-cover border-2 border-white/30"
          src="https://ui-avatars.com/api/?name=Admin+User&background=6c40d1&color=fff" alt="Usuario" />
        <div>
          <p class="font-medium">Admin User</p>
          <p class="text-sm text-white/70">Administrador</p>
        </div>
      </div>
    </div>
  </aside>

  <!-- üöÄ Contenido principal -->
  <main class="flex-1 p-6">

    <!-- Formulario para agregar productos -->
    <section class="bg-white p-6 rounded-custom shadow mb-8">
      <h2 class="text-xl font-bold text-dark mb-4">Agregar Producto</h2>
      <form id="productForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input type="text" id="name" placeholder="Nombre del producto" class="p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">
        <input type="number" id="price" placeholder="Precio" class="p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">
        <input type="number" id="stock" placeholder="Stock" class="p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">
        <input type="text" id="category" placeholder="Categor√≠a" class="p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">

        <select id="status" class="p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">
          <option value="Activo">Activo</option>
          <option value="Inactivo">Inactivo</option>
        </select>

        <input type="file" id="image" accept="image/*" class="p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">

        <div class="flex gap-3 col-span-2">
          <button type="submit" class="bg-secondary text-white px-4 py-2 rounded-custom hover:bg-secondary/80 transition">Agregar</button>
        </div>
      </form>
    </section>

    <!-- Buscador -->
    <section class="mb-6">
      <input type="text" id="search" placeholder="Buscar productos..." class="w-full p-3 border rounded-custom focus:ring-2 focus:ring-primary outline-none">
    </section>

    <!-- Tabla de productos -->
    <section class="overflow-x-auto">
      <table class="w-full bg-white rounded-custom shadow">
        <thead class="bg-primary text-white">
          <tr>
            <th class="p-4 text-left">Imagen</th>
            <th class="p-4 text-left">Nombre</th>
            <th class="p-4 text-left">Categor√≠a</th>
            <th class="p-4 text-left">Stock</th>
            <th class="p-4 text-left">Precio</th>
            <th class="p-4 text-left">Estado</th>
            <th class="p-4 text-center">Acciones</th>
          </tr>
        </thead>
        <tbody id="productTable" class="divide-y divide-light">
          <!-- Productos aqu√≠ -->
        </tbody>
      </table>
    </section>

  </main>

<script>
    // Codigo
    const productForm = document.getElementById("productForm");
    const productTable = document.getElementById("productTable");
    const searchInput = document.getElementById("search");

    let products = [];

    // Renderizar productos
    function renderProducts(filter = "") {
      productTable.innerHTML = "";
      products
        .filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))
        .forEach((product, index) => {
          const row = document.createElement("tr");
          row.className = "hover:bg-primary/10 transition-colors";

          row.innerHTML = `
            <td class="p-4 min-w-[100px]">
              ${product.image ? `<img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded-custom">` : `<span class="text-gray-400 italic">Sin imagen</span>`}
            </td>
            <td class="p-4 min-w-[150px]">${product.name}</td>
            <td class="p-4 min-w-[120px]">${product.category}</td>
            <td class="p-4 min-w-[80px]">${product.stock}</td>
            <td class="p-4 min-w-[100px]">$${product.price}</td>
            <td class="p-4 min-w-[100px] ${product.status === "Activo" ? "text-green-600" : "text-red-500"}">${product.status}</td>
            <td class="p-4 min-w-[150px] text-center space-x-2">
              <button onclick="editProductInline(${index})" class="px-3 py-1 bg-secondary text-white rounded-custom hover:bg-secondary/80 transition">Editar</button>
              <button onclick="deleteProduct(${index})" class="px-3 py-1 bg-red-500 text-white rounded-custom hover:bg-red-600 transition">Eliminar</button>
            </td>
          `;
          productTable.appendChild(row);
        });
    }

    // Agregar producto desde formulario
    productForm.addEventListener("submit", e => {
      e.preventDefault();
      const name = document.getElementById("name").value;
      const price = document.getElementById("price").value;
      const stock = document.getElementById("stock").value;
      const category = document.getElementById("category").value;
      const status = document.getElementById("status").value;
      const imageFile = document.getElementById("image").files[0];

      if (!name || !price || !stock || !category) return;

      const handleSave = (imageUrl = null) => {
        products.push({ name, price, stock, category, status, image: imageUrl });
        renderProducts();
        productForm.reset();
      };

      if (imageFile) {
        const reader = new FileReader();
        reader.onload = function(event) {
          handleSave(event.target.result);
        };
        reader.readAsDataURL(imageFile);
      } else {
        handleSave();
      }
    });

    // Inline edit
    function editProductInline(index) {
      const row = productTable.rows[index];
      const product = products[index];

      row.innerHTML = `
        <td class="p-4 min-w-[100px]">
          ${product.image ? `<img src="${product.image}" class="w-16 h-16 object-cover rounded-custom">` : `<span class="text-gray-400 italic">Sin imagen</span>`}
          <input type="file" id="image-${index}" class="mt-1 p-1 border rounded-custom focus:ring-2 focus:ring-primary outline-none w-full">
        </td>
        <td class="p-4 min-w-[150px]"><input type="text" id="name-${index}" value="${product.name}" class="p-2 border rounded-custom w-full"></td>
        <td class="p-4 min-w-[120px]"><input type="text" id="category-${index}" value="${product.category}" class="p-2 border rounded-custom w-full"></td>
        <td class="p-4 min-w-[80px]"><input type="number" id="stock-${index}" value="${product.stock}" class="p-2 border rounded-custom w-full"></td>
        <td class="p-4 min-w-[100px]"><input type="number" id="price-${index}" value="${product.price}" class="p-2 border rounded-custom w-full"></td>
        <td class="p-4 min-w-[100px]">
          <select id="status-${index}" class="p-2 border rounded-custom w-full">
            <option value="Activo" ${product.status==="Activo"?"selected":""}>Activo</option>
            <option value="Inactivo" ${product.status==="Inactivo"?"selected":""}>Inactivo</option>
          </select>
        </td>
        <td class="p-4 min-w-[150px] text-center space-x-2">
          <button onclick="saveProductInline(${index})" class="px-3 py-1 bg-secondary text-white rounded-custom hover:bg-secondary/80 transition">Guardar</button>
          <button onclick="cancelEditInline(${index})" class="px-3 py-1 bg-gray-400 text-white rounded-custom hover:bg-gray-500 transition">Cancelar</button>
        </td>
      `;
    }

    function saveProductInline(index) {
      const name = document.getElementById(`name-${index}`).value;
      const price = document.getElementById(`price-${index}`).value;
      const stock = document.getElementById(`stock-${index}`).value;
      const category = document.getElementById(`category-${index}`).value;
      const status = document.getElementById(`status-${index}`).value;
      const imageFile = document.getElementById(`image-${index}`).files[0];

      const handleSave = (imageUrl = null) => {
        products[index] = { 
          name, 
          price, 
          stock, 
          category, 
          status, 
          image: imageUrl || products[index].image 
        };
        renderProducts();
      };

      if (imageFile) {
        const reader = new FileReader();
        reader.onload = function(event) {
          handleSave(event.target.result);
        };
        reader.readAsDataURL(imageFile);
      } else {
        handleSave();
      }
    }

    function cancelEditInline(index) {
      renderProducts();
    }

    function deleteProduct(index) {
      products.splice(index, 1);
      renderProducts();
    }

    searchInput.addEventListener("input", e => {
      renderProducts(e.target.value);
    });

    renderProducts();
  </script> 
</body>
</html>


    
  