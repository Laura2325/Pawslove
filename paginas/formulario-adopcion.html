<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pawslove | Formulario Pre-Adopción</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#6c40d1",
              secondary: "#fc6dab",
              accent: "#17b890",
              light: "#ecf0f1",
              dark: "#34252f",
            },
            fontFamily: {
              fredoka: ["Fredoka One", "cursive"],
            },
            borderRadius: {
              custom: "24px",
            },
          },
        },
      };
    </script>
    <style>
      .form-step {
        transition: opacity 0.3s ease-in-out;
      }


      /* Animaciones personalizadas */
      @keyframes pulse {
        0% {
          transform: scale(1);
        }

        50% {
          transform: scale(1.05);
        }

        100% {
          transform: scale(1);
        }
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }

        50% {
          transform: translateY(-5px);
        }
      }

      .step-progress {
        transition: width 0.5s ease-in-out;
      }

      .step-item {
        transition: all 0.3s ease;
      }

      .step-item.active {
        animation: pulse 0.5s ease;
      }

      .step-icon {
        transition: all 0.3s ease;
      }

      .step-item.completed .step-icon {
        animation: bounce 0.5s ease;
      }

      .form-step {
        transition: opacity 0.5s ease, transform 0.5s ease;
      }

      .form-step.hidden {
        display: none;
      }

      .form-step.active {
        opacity: 1;
        transform: translateX(0);
      }

      .form-step.next {
        opacity: 0;
        transform: translateX(50px);
      }

      .form-step.prev {
        opacity: 0;
        transform: translateX(-50px);
      }
    </style>
  </head>

  <body class="bg-light flex items-center justify-center min-h-screen p-4">
    <!-- Video de fondo -->
    <div class="fixed top-0 left-0 w-full h-full -z-10 overflow-hidden">
      <video
        autoplay
        muted
        loop
        class="w-full h-full object-cover bg-opacity-40"
      >
        <source
          src="../assets/img/nosotros/video-fondo-2.mp4"
          type="video/mp4"
        />
        Tu navegador no soporta videos HTML5.
      </video>
      <!-- Capa overlay para mejorar legibilidad -->
      <div class="absolute inset-0 bg-white bg-opacity-20"></div>
    </div>

    <main
      class="w-full max-w-3xl bg-white p-8 rounded-custom shadow-lg ml-auto mr-8"
    >
      <img
        src="../assets/img/marca/Logo_2.svg"
        alt="logo"
        class="h-16 mx-auto mb-6"
      />

      <div class="mb-8">
        <!-- Barra de progreso -->
        <div class="h-2 bg-gray-200 rounded-full mb-6 overflow-hidden">
          <div
            id="progress-bar"
            class="h-full bg-primary step-progress"
            style="width: 33%"
          ></div>
        </div>

        <!-- Indicadores de pasos -->
        <div class="flex justify-between relative">
          <!-- Línea conectadora -->
          <div
            class="absolute top-4 left-0 right-0 h-0.5 bg-gray-200 -z-10"
          ></div>

          <!-- Paso 1 -->
          <div
            class="step-item active flex flex-col items-center relative"
            data-step="1"
          >
            <div
              class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center mb-2 step-icon relative z-10"
            >
              <span class="step-number">1</span>
              <svg
                class="step-check hidden w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
            </div>
            <span class="text-xs font-medium text-primary text-center"
              >Información<br />General</span
            >
          </div>

          <!-- Paso 2 -->
          <div
            class="step-item flex flex-col items-center relative"
            data-step="2"
          >
            <div
              class="w-8 h-8 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center mb-2 step-icon relative z-10"
            >
              <span class="step-number">2</span>
              <svg
                class="step-check hidden w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
            </div>
            <span class="text-xs font-medium text-gray-500 text-center"
              >Experiencia<br />con Mascotas</span
            >
          </div>

          <!-- Paso 3 -->
          <div
            class="step-item flex flex-col items-center relative"
            data-step="3"
          >
            <div
              class="w-8 h-8 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center mb-2 step-icon relative z-10"
            >
              <span class="step-number">3</span>
              <svg
                class="step-check hidden w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
            </div>
            <span class="text-xs font-medium text-gray-500 text-center"
              >Entrevista &<br />Documentación</span
            >
          </div>
        </div>
      </div>

      <form action="#" method="POST" id="adoption-form">
        <!-- Paso 1: Información General -->
        <section id="step-1" class="form-step">
          <h2 class="text-2xl font-fredoka text-primary mb-4 text-center">
            Información General
          </h2>
          <p class="mb-6 text-dark text-center">
            Este formulario es el primer paso para conocerlo(a) mejor y
            asegurarnos de que juntos encontremos al compañero perfecto para su
            estilo de vida. Todas las respuestas son confidenciales. Agradecemos
            su sinceridad.
          </p>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Datos Personales
            </legend>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div>
                <label
                  for="nombre"
                  class="block text-dark text-sm font-bold mb-2"
                  >Nombre Completo:</label
                >
                <input
                  type="text"
                  id="nombre"
                  name="nombre"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label
                  for="documento-tipo"
                  class="block text-dark text-sm font-bold mb-2"
                  >Tipo de Documento:</label
                >
                <select
                  id="documento-tipo"
                  name="documento-tipo"
                  required
                  class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                >
                  <option value="">Selecciona una opción</option>
                  <option value="cc">Cédula de Ciudadanía</option>
                  <option value="ce">Cédula de Extranjería</option>
                  <option value="ti">Tarjeta de Identidad</option>
                  <option value="pp">Pasaporte</option>
                </select>
              </div>
            </div>

            <div class="mb-4">
              <label
                for="numero-documento"
                class="block text-dark text-sm font-bold mb-2"
                >Número de Documento:</label
              >
              <input
                type="text"
                id="numero-documento"
                name="numero-documento"
                placeholder="Número de Documento"
                required
                class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              />
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div>
                <label
                  for="fecha-nacimiento"
                  class="block text-dark text-sm font-bold mb-2"
                  >Fecha de Nacimiento:</label
                >
                <input
                  type="date"
                  id="fecha-nacimiento"
                  name="fecha-nacimiento"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label
                  for="email"
                  class="block text-dark text-sm font-bold mb-2"
                  >Correo Electrónico:</label
                >
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div>
                <label
                  for="telefono"
                  class="block text-dark text-sm font-bold mb-2"
                  >Número de Teléfono:</label
                >
                <input
                  type="tel"
                  id="telefono"
                  name="telefono"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label
                  for="direccion"
                  class="block text-dark text-sm font-bold mb-2"
                  >Dirección:</label
                >
                <input
                  type="text"
                  id="direccion"
                  name="direccion"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div>
                <label
                  for="ciudad"
                  class="block text-dark text-sm font-bold mb-2"
                  >Ciudad:</label
                >
                <input
                  type="text"
                  id="ciudad"
                  name="ciudad"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label
                  for="ocupacion"
                  class="block text-dark text-sm font-bold mb-2"
                  >Ocupación:</label
                >
                <input
                  type="text"
                  id="ocupacion"
                  name="ocupacion"
                  required
                  class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>
            </div>

            <div class="mb-4">
              <label
                for="ingresos"
                class="block text-dark text-sm font-bold mb-2"
                >Rango de Ingresos Mensuales:</label
              >
              <select
                name="ingresos"
                id="ingresos"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="menos-1-smmlv">Menos de 1 SMMLV</option>
                <option value="1-3-smmlv">1 a 3 SMMLV</option>
                <option value="3-5-smmlv">3 a 5 SMMLV</option>
                <option value="mas-5-smmlv">Más de 5 SMMLV</option>
              </select>
            </div>
          </fieldset>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Situación de Vivienda
            </legend>

            <div class="mb-4">
              <label
                for="tipo-vivienda"
                class="block text-dark text-sm font-bold mb-2"
                >Tipo de Vivienda:</label
              >
              <select
                name="tipo-vivienda"
                id="tipo-vivienda"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="casa">Casa Propia</option>
                <option value="casa-alquilada">Casa Alquilada</option>
                <option value="apartamento">Apartamento Propio</option>
                <option value="apartamento-alquilado">
                  Apartamento Alquilado
                </option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="permiso-mascota"
                class="block text-dark text-sm font-bold mb-2"
                >¿Tiene permiso del propietario para tener mascota?</label
              >
              <select
                id="permiso-mascota"
                name="permiso-mascota"
                required
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="caracteristicas-vivienda"
                class="block text-dark text-sm font-bold mb-2"
                >¿La vivienda cuenta con patio, terraza o balcón?</label
              >
              <select
                id="caracteristicas-vivienda"
                name="caracteristicas-vivienda"
                required
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="seguro-vivienda"
                class="block text-dark text-sm font-bold mb-2"
                >¿Es cerrado y seguro?</label
              >
              <select
                name="seguro-vivienda"
                id="seguro-vivienda"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>
          </fieldset>

          <div class="flex justify-end">
            <button
              type="button"
              id="next-step-1"
              class="bg-primary hover:bg-purple-800 text-white font-bold py-2 px-6 rounded-custom focus:outline-none focus:shadow-outline transition-colors flex items-center"
            >
              Siguiente
              <svg
                class="w-4 h-4 ml-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                ></path>
              </svg>
            </button>
          </div>
        </section>

        <!-- Paso 2: Experiencia con Mascotas -->
        <section id="step-2" class="form-step hidden">
          <h2 class="text-2xl font-fredoka text-primary mb-4 text-center">
            Experiencia con Mascotas
          </h2>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Experiencia Previa
            </legend>
            <div class="mb-4">
              <label
                for="experiencia-mascotas"
                class="block text-dark text-sm font-bold mb-2"
                >¿Has tenido mascotas antes?</label
              >
              <select
                id="experiencia-mascotas"
                name="experiencia-mascotas"
                required
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>
          </fieldset>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Estilo de Vida
            </legend>
            <div class="mb-4">
              <label
                for="modalidad-laboral"
                class="block text-dark text-sm font-bold mb-2"
                >¿En qué modalidad trabajas?</label
              >
              <select
                id="modalidad-laboral"
                name="modalidad-laboral"
                required
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="presencial">Presencial</option>
                <option value="remoto">Remoto</option>
                <option value="mixto">Mixto</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="espacio-mascota"
                class="block text-dark text-sm font-bold mb-2"
                >¿Dónde pasará la mayor parte del tiempo la mascota?</label
              >
              <select
                name="espacio-mascota"
                id="espacio-mascota"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="interior">Interior de la casa</option>
                <option value="exterior">Exterior de la casa</option>
                <option value="acceso-libre">Acceso Libre</option>
                <option value="zona">En una zona específica de la Casa</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="tiempo-dedicado"
                class="block text-dark text-sm font-bold mb-2"
                >¿Cuántas horas al día podrá dedicarle a la mascota?</label
              >
              <select
                name="tiempo-dedicado"
                id="tiempo-dedicado"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="menos-2-horas">Menos de 2 horas</option>
                <option value="2-4-horas">2 a 4 horas</option>
                <option value="4-6-horas">4 a 6 horas</option>
                <option value="mas-6-horas">Más de 6 horas</option>
              </select>
            </div>
          </fieldset>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Compromiso y Cuidados
            </legend>
            <div class="mb-4">
              <label
                for="gastos-mascotas"
                class="block text-dark text-sm font-bold mb-2"
                >La tenencia de una mascota implica gastos (alimento,
                veterinario, vacunas, emergencias). ¿Está preparado para asumir
                estos costos?</label
              >
              <select
                id="gastos-mascotas"
                name="gastos-mascotas"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="esterilizacion"
                class="block text-dark text-sm font-bold mb-2"
                >¿Está dispuesto a esterilizar/castrar a la mascota si aún no lo
                está?</label
              >
              <select
                id="esterilizacion"
                name="esterilizacion"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="problemas-comportamiento"
                class="block text-dark text-sm font-bold mb-2"
                >¿Qué haría si enfrentara problemas de comportamiento (como
                ladridos excesivos, destructividad, ansiedad por
                separación)?</label
              >
              <select
                id="problemas-comportamiento"
                name="problemas-comportamiento"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="consulta-veterinario">
                  Consultar a un veterinario o especialista en comportamiento
                  animal
                </option>
                <option value="entrenamiento">
                  Buscar entrenamiento profesional para la mascota
                </option>
                <option value="paciencia">
                  Ser paciente y trabajar en el problema con tiempo y dedicación
                </option>
                <option value="devolver">
                  Devolver la mascota si los problemas persisten
                </option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="necesidades-especiales"
                class="block text-dark text-sm font-bold mb-2"
                >¿Está interesado en una mascota con necesidades especiales
                (discapacidad, enfermedad crónica gestionable, etc.)?</label
              >
              <select
                id="necesidades-especiales"
                name="necesidades-especiales"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
                <option value="consideracion">
                  Estaría dispuesto a considerarlo
                </option>
              </select>
            </div>
          </fieldset>

          <div class="flex justify-between">
            <button
              type="button"
              id="prev-step-2"
              class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-custom focus:outline-none focus:shadow-outline transition-colors flex items-center"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 19l-7-7 7-7"
                ></path>
              </svg>
              Anterior
            </button>
            <button
              type="button"
              id="next-step-2"
              class="bg-primary hover:bg-purple-800 text-white font-bold py-2 px-6 rounded-custom focus:outline-none focus:shadow-outline transition-colors flex items-center"
            >
              Siguiente
              <svg
                class="w-4 h-4 ml-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                ></path>
              </svg>
            </button>
          </div>
        </section>

        <!-- Paso 3: Entrevista y Documentación -->
        <section id="step-3" class="form-step hidden">
          <h2 class="text-2xl font-fredoka text-primary mb-4 text-center">
            Entrevista y Documentación
          </h2>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Proceso de Seguimiento
            </legend>
            <div class="mb-4">
              <label
                for="visitas-hogar"
                class="block text-dark text-sm font-bold mb-2"
                >¿Está de acuerdo con que un representante del refugio realice
                una visita al hogar (presencial o virtual) para verificar las
                condiciones de vida?</label
              >
              <select
                id="visitas-hogar"
                name="visitas-hogar"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>

            <div class="mb-4">
              <label
                for="contacto-futuro"
                class="block text-dark text-sm font-bold mb-2"
                >¿Permitiría que el refugio se ponga en contacto en el futuro
                para hacer un seguimiento del bienestar de la mascota?</label
              >
              <select
                id="contacto-futuro"
                name="contacto-futuro"
                class="shadow border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Selecciona una opción</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
              </select>
            </div>
          </fieldset>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Agendamiento de Entrevista
            </legend>
            <div class="mb-4">
              <label
                for="fecha-entrevista"
                class="block text-dark text-sm font-bold mb-2"
                >Por favor, indique su disponibilidad para una entrevista
                (presencial o por videollamada):</label
              >
              <input
                type="date"
                id="fecha-entrevista"
                name="fecha-entrevista"
                required
                class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary mb-2"
              />
              <input
                type="time"
                id="hora-entrevista"
                name="hora-entrevista"
                required
                class="shadow appearance-none border rounded-custom w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary"
              />
            </div>
          </fieldset>

          <fieldset class="mb-6 p-4 border border-gray-300 rounded-md">
            <legend class="text-xl font-semibold mb-4 text-primary">
              Documentación Requerida
            </legend>
            <p class="mb-4 text-dark">
              Por favor, adjunte los siguientes documentos (si es posible):
            </p>
            <ul class="list-disc list-inside mb-4 text-dark">
              <li>Copia de su documento de identidad</li>
              <li>
                Comprobante de domicilio (factura de servicios públicos,
                contrato de arrendamiento, etc.)
              </li>
              <li>Referencias personal o veterinarias (si las tiene)</li>
            </ul>
            <label
              for="documentos"
              class="block text-dark text-sm font-bold mb-2"
              >Adjuntar Documentos:</label
            >
            <input
              type="file"
              id="documentos"
              name="documentos"
              multiple
              class="block w-full text-sm text-dark file:mr-4 file:py-2 file:px-4 file:rounded-custom file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-purple-800 transition-colors"
            />
          </fieldset>

          <div class="flex justify-between">
            <button
              type="button"
              id="prev-step-3"
              class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-custom focus:outline-none focus:shadow-outline transition-colors flex items-center"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 19l-7-7 7-7"
                ></path>
              </svg>
              Anterior
            </button>
            <button
              type="submit"
              class="bg-accent hover:bg-green-600 text-white font-bold py-2 px-6 rounded-custom focus:outline-none focus:shadow-outline transition-colors flex items-center"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
              Enviar Formulario
            </button>
          </div>
        </section>
      </form>
    </main>

    <!-- Modal de confirmación -->
    <div
      id="confirmation-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div class="bg-white rounded-custom p-8 max-w-md mx-4 relative">
        <button
          id="close-modal"
          class="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>

        <div class="text-center">
          <div
            class="w-16 h-16 bg-accent bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-accent"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 13l4 4L19 7"
              ></path>
            </svg>
          </div>

          <h3 class="text-2xl font-fredoka text-primary mb-2">
            ¡Formulario Enviado!
          </h3>
          <p class="text-dark mb-6">
            Tu información ha sido recibida correctamente. Nos pondremos en
            contacto contigo pronto.
          </p>

          <button
            id="modal-ok-button"
            class="bg-accent hover:bg-green-600 text-white font-bold py-2 px-6 rounded-custom transition-colors"
          >
            Aceptar
          </button>
        </div>
      </div>
    </div>

    <script>
    const formSteps = document.querySelectorAll(".form-step");
    const stepItems = document.querySelectorAll(".step-item");
    const progressBar = document.getElementById("progress-bar");
    let currentStepIndex = 0; // Cambié el nombre para evitar conflicto

    // Función mejorada para mostrar pasos con animación
    function showStep(stepIndex, direction = 'next') {
        // Si ya estamos en este paso, no hacer nada
        if (currentStepIndex === stepIndex) return;
        
        // Obtener el paso actual y el siguiente
        const currentStepElement = formSteps[currentStepIndex];
        const nextStepElement = formSteps[stepIndex];
        
        // Configurar clases de transición según la dirección
        if (currentStepElement !== undefined) {
            currentStepElement.classList.remove('active');
            currentStepElement.classList.add(direction === 'next' ? 'prev' : 'next');
            
            // Ocultar después de la animación
            setTimeout(() => {
                currentStepElement.classList.add('hidden');
            }, 500);
        }
        
        // Mostrar el siguiente paso con animación
        nextStepElement.classList.remove('hidden', 'next', 'prev');
        setTimeout(() => {
            nextStepElement.classList.add('active');
        }, 10);
        
        // Actualizar indicadores de pasos
        stepItems.forEach((item, index) => {
            item.classList.remove('active', 'completed');
            
            if (index === stepIndex) {
                item.classList.add('active');
            } else if (index < stepIndex) {
                item.classList.add('completed');
                const icon = item.querySelector('.step-icon');
                const number = item.querySelector('.step-number');
                const check = item.querySelector('.step-check');
                
                if (number) number.classList.add('hidden');
                if (check) check.classList.remove('hidden');
                icon.classList.remove('bg-gray-200', 'text-gray-600');
                icon.classList.add('bg-primary', 'text-white');
                
                const label = item.querySelector('span.text-gray-500');
                if (label) {
                    label.classList.remove('text-gray-500');
                    label.classList.add('text-primary');
                }
            }
        });
        
        // Actualizar barra de progreso
        const progressPercentage = ((stepIndex + 1) / formSteps.length) * 100;
        progressBar.style.width = `${progressPercentage}%`;
        
        // Actualizar el paso actual
        currentStepIndex = stepIndex;
        
        // Desplazar hacia la parte superior del formulario
        setTimeout(() => {
            formSteps[stepIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
    }

    // Event listeners para los botones de navegación
    document.getElementById('next-step-1').addEventListener('click', () => {
        showStep(1, 'next');
    });

    document.getElementById('prev-step-2').addEventListener('click', () => {
        showStep(0, 'prev');
    });

    document.getElementById('next-step-2').addEventListener('click', () => {
        showStep(2, 'next');
    });

    document.getElementById('prev-step-3').addEventListener('click', () => {
        showStep(1, 'prev');
    });

    // Mostrar el primer paso al cargar la página con una pequeña animación inicial
    window.addEventListener('load', () => {
        formSteps[0].classList.remove('hidden');
        setTimeout(() => {
            formSteps[0].classList.add('active');
        }, 100);
    });

    // Función para mostrar el modal
    function showConfirmationModal() {
        const modal = document.getElementById('confirmation-modal');
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden'; // Prevenir scroll
    }

    // Función para ocultar el modal
    function hideConfirmationModal() {
        const modal = document.getElementById('confirmation-modal');
        modal.classList.add('hidden');
        document.body.style.overflow = 'auto'; // Restaurar scroll
    }

    // Event listener para el envío del formulario
    document.getElementById('adoption-form').addEventListener('submit', function(e) {
        e.preventDefault(); // Prevenir envío real para este ejemplo
        
        // Aquí iría tu lógica de envío real
        // Simulamos un envío exitoso después de 1 segundo
        setTimeout(showConfirmationModal, 1000);
    });

    // Event listeners para cerrar el modal
    document.getElementById('close-modal').addEventListener('click', hideConfirmationModal);
    document.getElementById('modal-ok-button').addEventListener('click', hideConfirmationModal);
    
    // Cerrar modal al hacer clic fuera del contenido
    document.getElementById('confirmation-modal').addEventListener('click', function(e) {
        if (e.target === this) {
            hideConfirmationModal();
        }
    });
    
    // Cerrar modal con la tecla Escape
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            hideConfirmationModal();
        }
    });

    function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    function validateInterviewDate(date) {
        const selectedDate = new Date(date);
        const today = new Date();
        today.setHours(0, 0, 0, 0); // Reset hours for accurate comparison
        return selectedDate >= today;
    }

    // Función para mostrar errores
    function showError(input, message) {
        // Eliminar error previo si existe
        hideError(input);
        
        // Crear elemento de error
        const error = document.createElement('p');
        error.className = 'text-red-500 text-xs italic mt-1';
        error.textContent = message;
        error.id = `${input.id}-error`;
        
        // Insertar después del campo
        input.parentNode.appendChild(error);
        
        // Estilizar campo con error
        input.classList.add('border-red-500');
    }

    // Función para ocultar errores
    function hideError(input) {
        // Eliminar mensaje de error si existe
        const error = document.getElementById(`${input.id}-error`);
        if (error) {
            error.remove();
        }
        
        // Quitar estilo de error
        input.classList.remove('border-red-500');
    }

    // Validación en tiempo real para el correo electrónico
    const emailInput = document.getElementById('email');
    emailInput.addEventListener('blur', function() {
        if (this.value && !validateEmail(this.value)) {
            showError(this, 'Por favor ingresa un correo electrónico válido');
        } else {
            hideError(this);
        }
    });

    // Validación en tiempo real para la fecha de entrevista
    const interviewDateInput = document.getElementById('fecha-entrevista');
    interviewDateInput.addEventListener('change', function() {
        if (this.value && !validateInterviewDate(this.value)) {
            showError(this, 'No puedes seleccionar una fecha anterior al día de hoy');
        } else {
            hideError(this);
        }
    });

    // Establecer fecha mínima para el campo de fecha (hoy)
    const today = new Date().toISOString().split('T')[0];
    interviewDateInput.setAttribute('min', today);

    // Validación completa antes de enviar el formulario
    document.getElementById('adoption-form').addEventListener('submit', function(e) {
        let isValid = true;
        
        // Validar correo electrónico
        if (emailInput.value && !validateEmail(emailInput.value)) {
            showError(emailInput, 'Por favor ingresa un correo electrónico válido');
            isValid = false;
        }
        
        // Validar fecha de entrevista
        if (interviewDateInput.value && !validateInterviewDate(interviewDateInput.value)) {
            showError(interviewDateInput, 'No puedes seleccionar una fecha anterior al día de hoy');
            isValid = false;
        }
        
        // Si hay errores, prevenir el envío
        if (!isValid) {
            e.preventDefault();
            
            // Desplazar al primer campo con error
            const firstError = document.querySelector('.border-red-500');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        } else {
            e.preventDefault(); // Prevenir envío real para este ejemplo
            
            // Aquí iría tu lógica de envío real
            // Simulamos un envío exitoso después de 1 segundo
            setTimeout(showConfirmationModal, 1000);
        }
    });

           function saveFormData() {
        try {
            const formData = {
                pasoActual: currentStepIndex,
                // Información del paso 1
                nombre: document.getElementById('nombre').value,
                documentoTipo: document.getElementById('documento-tipo').value,
                numeroDocumento: document.getElementById('numero-documento').value,
                fechaNacimiento: document.getElementById('fecha-nacimiento').value,
                email: document.getElementById('email').value,
                telefono: document.getElementById('telefono').value,
                direccion: document.getElementById('direccion').value,
                ciudad: document.getElementById('ciudad').value,
                ocupacion: document.getElementById('ocupacion').value,
                ingresos: document.getElementById('ingresos').value,
                tipoVivienda: document.getElementById('tipo-vivienda').value,
                permisoMascota: document.getElementById('permiso-mascota').value,
                caracteristicasVivienda: document.getElementById('caracteristicas-vivienda').value,
                seguroVivienda: document.getElementById('seguro-vivienda').value,
                // Información del paso 2
                experienciaMascotas: document.getElementById('experiencia-mascotas').value,
                modalidadLaboral: document.getElementById('modalidad-laboral').value,
                espacioMascota: document.getElementById('espacio-mascota').value,
                tiempoDedicado: document.getElementById('tiempo-dedicado').value,
                gastosMascotas: document.getElementById('gastos-mascotas').value,
                esterilizacion: document.getElementById('esterilizacion').value,
                problemasComportamiento: document.getElementById('problemas-comportamiento').value,
                necesidadesEspeciales: document.getElementById('necesidades-especiales').value,
                // Información del paso 3
                visitasHogar: document.getElementById('visitas-hogar').value,
                contactoFuturo: document.getElementById('contacto-futuro').value,
                fechaEntrevista: document.getElementById('fecha-entrevista').value,
                horaEntrevista: document.getElementById('hora-entrevista').value,
                ultimaActualizacion: new Date().toISOString()
            };
            
            localStorage.setItem('formularioAdopcion', JSON.stringify(formData));
            console.log('Datos guardados en localStorage:', formData);
            return true;
        } catch (error) {
            console.error('Error al guardar en localStorage:', error);
            return false;
        }
    }

    // Función para configurar el autoguardado (VERSIÓN CORREGIDA)
    function setupAutoSave() {
        // Seleccionar todos los campos del formulario
        const formFields = document.querySelectorAll('#adoption-form input, #adoption-form select, #adoption-form textarea');
        
        // Agregar event listener a cada campo
        formFields.forEach(field => {
            field.addEventListener('change', saveFormData);
            field.addEventListener('blur', saveFormData);
        });
        
        // Guardar también al cambiar de paso
        const navigationButtons = [
            'next-step-1', 'prev-step-2', 'next-step-2', 'prev-step-3'
        ];
        
        navigationButtons.forEach(buttonId => {
            const button = document.getElementById(buttonId);
            if (button) {
                button.addEventListener('click', saveFormData);
            }
        });
    }

    // Función para verificar si hay datos guardados
    function checkSavedData() {
        const savedData = localStorage.getItem('formularioAdopcion');
        if (savedData) {
            console.log('Datos encontrados en localStorage:', JSON.parse(savedData));
            return true;
        } else {
            console.log('No hay datos en localStorage');
            return false;
        }
    }

    // Modificar el event listener de envío del formulario para limpiar localStorage
    document.getElementById('adoption-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Aquí tus validaciones...
        
        // Si todo es válido
        setTimeout(function() {
            // Mostrar modal de confirmación
            showConfirmationModal();
            
            // Limpiar localStorage después de enviar
            localStorage.removeItem('formularioAdopcion');
            console.log('Datos eliminados de localStorage después del envío');
        }, 1000);
    });

    // Inicializar cuando el DOM esté listo
    document.addEventListener('DOMContentLoaded', function() {
        // Cargar datos guardados si existen
        const savedData = localStorage.getItem('formularioAdopcion');
        if (savedData) {
            try {
                const formData = JSON.parse(savedData);
                // Aquí iría el código para rellenar los campos con formData
                console.log('Datos cargados desde localStorage');
                
                // Mostrar notificación de datos recuperados (opcional)
                const notification = document.createElement('div');
                notification.textContent = 'Datos anteriores recuperados';
                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            } catch (error) {
                console.error('Error al cargar datos desde localStorage:', error);
            }
        }
        
        // Configurar autoguardado
        setupAutoSave();
        
        // Verificar que se está guardando
        setInterval(() => {
            checkSavedData();
        }, 5000); // Verificar cada 5 segundos para debugging
    });

    // Resolver entrega de información en JSON
    
</script>
  </body>
</html>
